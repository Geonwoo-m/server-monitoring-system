<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional System Monitor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8f9fa; }
        .card { border: none; border-radius: 16px; transition: all 0.3s ease; }
        .btn-group .btn { padding: 8px 16px; font-weight: 600; }
        #status-dot { transition: background-color 0.5s ease; }
        /* 차트 컨테이너 높이 고정 */
        .chart-container { position: relative; height: 400px; width: 100%; }
    </style>
</head>
<body>
<div class="container py-5">
    <div class="d-flex justify-content-between align-items-end mb-4">
        <div>
            <span class="badge bg-primary mb-2">Live Monitoring</span>
            <h2 class="fw-bold d-flex align-items-center">
                System Performance
                <span id="status-dot" style="height: 12px; width: 12px; background-color: #bbb; border-radius: 50%; display: inline-block; margin-left: 12px;" title="연결 상태"></span>
            </h2>
        </div>
        <div class="text-end">
            <div class="text-muted small fw-bold">PEAK CPU USAGE</div>
            <div id="peak-cpu" style="font-size: 2.5rem; font-weight: 800; color: #dc3545; line-height: 1;">0.0%</div>
        </div>
    </div>

    <div class="d-flex justify-content-center mb-4">
        <div class="btn-group shadow-sm" role="group" id="unit-selector">
            <button type="button" class="btn btn-dark active" onclick="setUnit(this, 0)">Real-time</button>
            <button type="button" class="btn btn-outline-dark" onclick="setUnit(this, 1)">Last 1m</button>
            <button type="button" class="btn btn-outline-dark" onclick="setUnit(this, 5)">Last 5m</button>
            <button type="button" class="btn btn-outline-dark" onclick="setUnit(this, 15)">Last 15m</button>
            <button type="button" class="btn btn-outline-dark" onclick="setUnit(this, 30)">Last 30m</button>
            <button type="button" class="btn btn-outline-dark" onclick="setUnit(this, 60)">Last 1h</button>
        </div>
    </div>

    <div class="card p-4 mb-4 shadow-sm">
        <div class="chart-container">
            <canvas id="rollingChart"></canvas>
        </div>
    </div>

    <div class="d-flex justify-content-center align-items-center text-secondary small">
        <div class="spinner-grow spinner-grow-sm me-2" role="status"></div>
        <span>Collecting real-time metrics from Linux Agent...</span>
    </div>
</div>

<script src="/script.js"></script>
</body>
</html>